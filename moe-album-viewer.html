<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/iron-flex-layout/iron-flex-layout.html">
<script src="node_modules/justified-layout/dist/justified-layout.min.js"></script>

<dom-module id="moe-album-viewer">
    <template>
        <style include="iron-flex iron-flex-alignment iron-positioning">
            :host {
                @apply(--layout-vertical);
                @apply(--layout-fit);
                color: #800000;
                --webkit-user-select: none;
            }
            #container {
                @apply(--layout-vertical);
                @apply(--layout-flex);
                @apply(--layout-scroll);
                @apply(--layout-fit);
            }
        </style>

        <carbon-route route="{{route}}" pattern="/:serial" data="{{routeData}}"></carbon-route>

        <div id="container">
            <h1>album</h1>
            <template is="dom-repeat" items="[[data]]" as="item">
                <section>
                    <hr>
                    <img src="[[item.thumb]]" alt="">

                    <template is="dom-repeat" items="[[item.response]]" as="response">
                        <template is="dom-if" if="[[response.thumb]]">
                            <img src="[[response.thumb]]" alt="">
                        </template>
                    </template>
                </section>
            </template>
        </div>

    </template>
    <script>


        (function() {
            'use strict';
            Polymer({
                is: 'moe-album-viewer',

                properties: {
                    data: {
                        type: Array,
                        value: function(){ return []}
                    }
                },
                /**
                 * Live
                 * */
                ready: function() {
                    var layout = require('justified-layout');
                    var geometry = layout([0.5, 1.5, 1, 1.8, 0.4, 0.7, 0.9, 1.1, 1.7, 2.2, 1.5], {
                        forceAspectRatio: 1
                    });
                }
            });
        })();
    </script>
</dom-module>
