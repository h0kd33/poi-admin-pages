<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="bower_components/neon-animation/neon-animations.html">
<!--<link rel="import" href="bower_components/">-->

<!-- Moe -->
<link rel="import" href="moe-album-image-viewer.html">
<link rel="import" href="moe-album-layout.html">

<!-- Library -->
<script src="bower_components/lodash/dist/lodash.min.js"></script>

<dom-module id="moe-album-viewer">
    <template>
        <style include="iron-flex iron-flex-alignment iron-positioning">
            :host {
                @apply(--layout-fullbleed);

                color: #800000;
                --webkit-user-select: none;
            }
            #pages {
                @apply(--layout-fit);
            }
            #layout {
                position: relative;
            }

            .thumb {
                position: absolute;
            }
        </style>

        <!--<carbon-route route="{{route}}" pattern="/:serial" data="{{routeData}}"></carbon-route>-->
        <neon-animated-pages id="pages" selected="[[selected]]">
            <moe-album-layout on-thumb-click="togglePage" data="[[data]]" viewer-data="{{viewerData}}"></moe-album-layout>
            <moe-album-image-viewer on-close-page="togglePage" data="[[viewerData]]" ></moe-album-image-viewer>
        </neon-animated-pages>
    </template>
    <script>


        (function () {
            'use strict';
            Polymer({
                is: 'moe-album-viewer',


                properties: {
                    data: {
                        type: Array,
                        value: function () {
                            return []
                        }
                    },
                    selected: {
                        type: Number,
                        value: 0
                    }

                },
                togglePage: function() {
                    this.selected = this.selected === 0 ? 1 : 0;
                },
                _onElementLoad: function () {
                },
                /**
                 * Live
                 * */
                ready: function () {
                }
            });
        })();
    </script>
</dom-module>
